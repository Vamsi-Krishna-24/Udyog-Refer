'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'udyogrefer',              
        'USER': 'surisettivamsikrishna',                   
        'PASSWORD': 'Vamsi@2408', 
        'HOST': 'localhost',
        'PORT': '5432',
    }

To test this locally the above will work!


DATABASES = {
    'default': dj_database_url.config(default=os.environ.get("DATABASE_URL"))
}
To test on Cloud - Render






#######Normal Login main :
        if user is not None:
            # Login successful → redirect
            return Response({"redirect": "/active_referals"}, status=status.HTTP_200_OK)
        else:
            return Response({"error": "Invalid credentials"}, status=status.HTTP_401_UNAUTHORIZED)



#### In chatgpt Role-based redirection setup

SetUserRoleAPIView — securityNameCreateAPIView

Anyone who knows an email could hit this and change roles.

-----> At minimum, verify the user (e.g., compare to logged‑in user or a one‑time token). If you skip



###To get the access token:

const t2 = localStorage.getItem('access_token');
JSON.parse(atob(t2.split('.')[1]));




Deleted the SCRIPT 03 in Refferer Home:
      <script>
         document.addEventListener('DOMContentLoaded', () => {   ///// ensure DOM ready
         
           const form  = document.getElementById('referForm');     // ---> form node
           const token = localStorage.getItem('access_token');     // ---> JWT
         
           form.addEventListener('submit', async (e) => {
             e.preventDefault();                                   // ---> stop page reload
         
             const payload = {                                     // ---> match serializer
               company_name:     document.getElementById('company').value.trim(),
               Role:             document.getElementById('role').value.trim(),
               Refferal_Domains: document.getElementById('domains').value.trim(),
             };
         
             console.log('POST /api/referrals/ payload ->', payload);  ///// debug
         
             const res = await fetch('/api/referrals/', {
               method: 'POST',
               headers: {
                 'Content-Type': 'application/json',
                 'Authorization': `Bearer ${token}`,               // ---> auth
               },
               body: JSON.stringify(payload),
             });
         
             const text = await res.text();
             console.log('STATUS', res.status, 'BODY', text);      ///// see result
         
             if (!res.ok) { alert('Failed: ' + text); return; }
         
             triggerSuccessAnimation();
             // optional: clear or close modal
             // form.reset();
             // toggleModal();
           });
         
         });
      </script>