<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sign Up | Udyog Refer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    async function signup() {
  const data = {
    username: document.getElementById('name').value,
    email: document.getElementById('email').value,
    password: document.getElementById('password').value
  }

  const response = await fetch('/api/signup/', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  })

  const resData = await response.json()
  if (response.status === 201) {
    window.location.href = '/launchpad';
  } else {
    document.getElementById('response').innerText = JSON.stringify(resData)
  }
}

  </script>
</head>
<body class="bg-gray-900 text-white min-h-screen flex items-center justify-center px-4">

  <div class="w-full max-w-md bg-gray-900 p-8 space-y-6">
    <!-- Logo -->
    <div class="text-center">
      <h1 class="text-4xl font-bold text-white">UR</h1>
      <p class="text-xl font-semibold mt-2">Create Account</p>
      <p class="text-sm text-gray-400">Join Udhyog Refer Today</p>
    </div>

    <!-- Sign Up form (REST version, no form tag) -->
    <div class="space-y-4">
      <input id="name" type="text" placeholder="Full Name"
        class="w-full px-4 py-3 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600"
        required />
      <input id="email" type="email" placeholder="Email"
        class="w-full px-4 py-3 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600"
        required />
      <input id="password" type="password" placeholder="Password"
        class="w-full px-4 py-3 rounded-lg bg-gray-800 text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600"
        required />

      <button onclick="signup()" ///// REST trigger
        class="w-full bg-blue-600 hover:bg-blue-500 text-white py-3 rounded-lg font-semibold transition">
        Create Account
      </button>

      <p id="response" class="text-sm text-center text-red-400"></p>  <!-- feedback box -->
    </div>

    <!-- Switch to login -->
    <p class="text-center text-sm text-gray-400">
      Already have an account?
      <a href="{% url 'login' %}" class="text-blue-500 hover:underline">Log in</a>
    </p>
  </div>

  
</body>
</html>
