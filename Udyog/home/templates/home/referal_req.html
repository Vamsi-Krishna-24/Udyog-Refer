{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Complete Your Profile | Udyog Refer</title>
    <link rel="icon" type="image/png" href="{% static 'img/ur_logo.ico' %}">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
async function submitReferral() {
  const data = {
    phone_number: document.getElementById('phone').value,
    location: document.getElementById('location').value,
    Linkdin_URL: document.getElementById('linkedin').value,
    Github_URL: document.getElementById('github').value,
    Bio: document.getElementById('bio').value
  }

  const response = await fetch('/api/referral-request/', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data)
  })

  if (response.status === 201) {
    window.location.href = '/active_referals';
  } else {
    const result = await response.json()
    alert(result.message || JSON.stringify(result))
  }
}

</script>
  </head>

  <body class="bg-[#0d1124] min-h-screen text-white px-4 py-8">
    <div class="flex flex-col items-center space-y-6 max-w-4xl mx-auto">

      <!-- Page Title -->
      <div class="text-4xl font-extrabold text-center">Complete Your Profile</div>
      <div class="text-lg text-gray-300 font-medium text-center">Tell us about your background and job preferences</div>

      <!-- Personal Details -->
      <div class="bg-slate-800 p-6 rounded-lg shadow-md w-full text-white">
        <h2 class="text-xl font-semibold mb-4">Personal Details</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <input id="phone" type="text" placeholder="Phone Number" class="bg-slate-700 p-3 rounded-md w-full placeholder-gray-300 focus:outline-none" />
          <input id="location" type="text" placeholder="Location" class="bg-slate-700 p-3 rounded-md w-full placeholder-gray-300 focus:outline-none" />
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <input id="linkedin" type="text" placeholder="LinkedIn URL" class="bg-slate-700 p-3 rounded-md w-full placeholder-gray-300 focus:outline-none" />
          <input id="github" type="text" placeholder="GitHub URL" class="bg-slate-700 p-3 rounded-md w-full placeholder-gray-300 focus:outline-none" />
        </div>

        <label class="block font-medium mb-2">Bio (Tell us about yourself)</label>
        <textarea id="bio" rows="3" placeholder="Brief bio here..." class="bg-slate-700 p-3 rounded-md w-full placeholder-gray-300 focus:outline-none resize-none mb-4"></textarea>
      </div>

      <!-- Education -->
      <div class="bg-slate-800 p-6 rounded-lg shadow-md w-full text-white">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-semibold">Education</h2>
          <button class="bg-blue-600 hover:bg-blue-500 text-sm px-4 py-2 rounded">+ Add Education</button>
        </div>
        <!-- Optional Education Inputs -->
      </div>

      <!-- Work Experience -->
      <div class="bg-slate-800 p-6 rounded-lg shadow-md w-full text-white">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-semibold">Work Experience</h2>
          <button class="bg-blue-600 hover:bg-blue-500 text-sm px-4 py-2 rounded">+ Add Experience</button>
        </div>
        <!-- Optional Experience Inputs -->
      </div>

      <!-- Professional Background -->
      <div class="bg-slate-800 p-6 rounded-lg shadow-md w-full text-white">
        <h2 class="text-xl font-semibold mb-4">Professional Background</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <select class="bg-slate-700 p-3 rounded-md w-full text-gray-300 focus:outline-none">
            <option>Select Domain</option>
          </select>
          <select class="bg-slate-700 p-3 rounded-md w-full text-gray-300 focus:outline-none">
            <option>Select Experience Level</option>
          </select>
        </div>

        <input type="text" placeholder="Skills (comma separated)" class="bg-slate-700 p-3 rounded-md w-full placeholder-gray-300 focus:outline-none" />
      </div>

      <!-- Job Preferences -->
      <div class="bg-slate-800 p-6 rounded-lg shadow-md w-full text-white">
        <h2 class="text-xl font-semibold mb-4">Job Preferences</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <select class="bg-slate-700 p-3 rounded-md w-full text-gray-300 focus:outline-none">
            <option>Preferred Domain</option>
          </select>
          <select class="bg-slate-700 p-3 rounded-md w-full text-gray-300 focus:outline-none">
            <option>Target Experience Level</option>
          </select>
        </div>

        <input type="text" placeholder="Preferred Companies (comma separated)" class="bg-slate-700 p-3 rounded-md w-full mb-4 placeholder-gray-300 focus:outline-none" />
        <input type="text" placeholder="Location Preferences (comma separated)" class="bg-slate-700 p-3 rounded-md w-full mb-4 placeholder-gray-300 focus:outline-none" />
        <input type="text" placeholder="Salary Expectation" class="bg-slate-700 p-3 rounded-md w-full mb-4 placeholder-gray-300 focus:outline-none" />
      </div>

      <!-- Final Buttons -->
      <div class="flex justify-between w-full max-w-4xl">
        <button class="bg-gray-600 px-6 py-2 rounded hover:bg-gray-500">Back</button>
        <button onclick="submitReferral()" class="bg-blue-600 px-6 py-2 rounded hover:bg-blue-500">Complete Setup</button>
      </div>

    </div>
  </body>
</html>
