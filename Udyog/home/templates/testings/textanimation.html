<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Gooey Text Morph</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #fff;
      font-family: sans-serif;
    }

    .gooey-container {
      position: relative;
      font-weight: bold;
      font-size: 3rem;
      filter: url(#threshold) blur(0.6px);
    }

    .gooey-text {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      text-align: center;
      user-select: none;
    }
  </style>
</head>
<body>
  <div class="gooey-container">
    <span id="text1" class="gooey-text">Get Referred.</span>
    <span id="text2" class="gooey-text">Land Faster</span>
    <svg class="absolute h-0 w-0">
      <defs>
        <filter id="threshold">
          <feColorMatrix in="SourceGraphic" type="matrix"
            values="1 0 0 0 0
                    0 1 0 0 0
                    0 0 1 0 0
                    0 0 0 255 -140"/>
        </filter>
      </defs>
    </svg>
  </div>

  <script>
    const texts = ["Get Referred.", "Land Faster"];
    let textIndex = texts.length - 1;
    let morphTime = 1.2;     // seconds
    let cooldownTime = 0.4;  // seconds

    let text1 = document.getElementById("text1");
    let text2 = document.getElementById("text2");

    let time = new Date();
    let morph = 0;
    let cooldown = cooldownTime;

    function doMorph() {
      morph -= cooldown;
      cooldown = 0;

      let fraction = morph / morphTime;
      if (fraction > 1) {
        cooldown = cooldownTime;
        fraction = 1;
      }
      setMorph(fraction);
    }

    function setMorph(fraction) {
      text2.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
      text2.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;

      fraction = 1 - fraction;
      text1.style.filter = `blur(${Math.min(8 / fraction - 8, 100)}px)`;
      text1.style.opacity = `${Math.pow(fraction, 0.4) * 100}%`;
    }

    function doCooldown() {
      morph = 0;
      text2.style.filter = "";
      text2.style.opacity = "100%";

      text1.style.filter = "";
      text1.style.opacity = "0%";
    }

    function animate() {
      requestAnimationFrame(animate);

      let newTime = new Date();
      let shouldIncrementIndex = cooldown > 0;
      let dt = (newTime - time) / 1000;
      time = newTime;

      cooldown -= dt;

      if (cooldown <= 0) {
        if (shouldIncrementIndex) {
          textIndex++;
          text1.textContent = texts[textIndex % texts.length];
          text2.textContent = texts[(textIndex + 1) % texts.length];
        }
        doMorph();
      } else {
        doCooldown();
      }
    }

    animate();
  </script>
</body>
</html>
